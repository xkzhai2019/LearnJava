package com.xkzhai.io;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import org.junit.Test;
/**
 * 文档注释
 * @author Administrator
 *
 */
public class BufferedWriterDemo2 {
	
	/**
	 * 写入文件
	 *
	 */
	@Test
	public void writeFile() throws Exception {
		int size = 1024;
		for(int i=1;i<=1024*32;i = i *2){
			long start = System.currentTimeMillis();
			BufferedWriter bw = new BufferedWriter(new FileWriter("hello.txt"),i*size);
			for(int j=0;j<4000000;j++){
				bw.write("abc中bcdabc中bcdabc中bcdabc中bcd");
			}
			bw.close();
			long duration = System.currentTimeMillis() - start;
			System.out.println(i+"k:"+duration);
		}

	}
	
	/**
	 * JUint单元测试
	 * 不能有返回值、不能有参数、不能由static修饰
	 * import org.junit.Test;
	 */
	@Test
	public void readFile() throws Exception{
		FileReader fr = new FileReader("hello.txt");
		long start = System.currentTimeMillis();
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
//		System.out.println((char)fr.read());
		while((fr.read())!=-1){
		}
		fr.close();
		System.out.println(System.currentTimeMillis() - start);
	}
	
	/**
	 * 测试BufferedReader
	 * @throws Exception 
	 */
	@Test
	public void readFileWithBuffered() throws Exception{
		BufferedReader br = new BufferedReader(new FileReader("hello.txt"));
		
		br.close();
	}

}
